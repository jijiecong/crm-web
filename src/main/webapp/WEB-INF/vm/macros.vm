

#** -------------------------------------------
 * 分页
 * $paginator com.alibaba.citrus.util.Paginator
 * $builder e.g
 * #set($pager = $pageUtil.pager(1, 20, 200))
 * #set($builder = $crmMod.setTarget('customer/recordInfo.vm').addQueryData('customer_id', $customerId).fork())
 * #showPage($pager $builder)
 * -------------------------------------------- *#
###macro(showPage $paginator $builder)
##
###if ($paginator.getPages() > 1)
##
###set ($_page_min_tmp = $paginator.getPage() - 3)
###set ($_page_max_tmp = $paginator.getPage() + 3)
##
###set ($_page_min = $mathTool.max(1, $_page_min_tmp))
###set ($_page_max = $mathTool.min($paginator.getPages(), $_page_max_tmp))
##
##<!--page start-->
##<div class="pages">
##
##    #if ($paginator.getPage() > $_page_min)
##        <a href="$builder&page=$paginator.getPreviousPage()" class="pages_pre J_pages_pre">&laquo;&nbsp;上一页</a>
##
##        #if ($_page_min > 1)
##            <a href="$builder&page=1">1...</a>
##        #end
##
##        #foreach ( $_page_i in [$_page_min..$paginator.getPreviousPage()] )
##            <a href="$builder&page=$_page_i">${_page_i}</a>
##        #end
##
##    #end
##
##    <strong>$paginator.getPage()</strong>
##
##    #if ($paginator.getPage() < $_page_max)
##         #foreach ($_page_i in [$paginator.getNextPage()..$_page_max])
##            <a href="$builder&page=$_page_i">${_page_i}</a>
##        #end
##
##        #if ($_page_max < $paginator.getPages())
##            <a href="$builder&page=$paginator.getPages()">...$paginator.getPages()</a>
##        #end
##
##        <a href="$builder&page=$paginator.getNextPage()" class="pages_next J_pages_next">下一页&nbsp;&raquo;</a>
##    #end
##
##</div>
##<!--page end-->
##
###end
##
###end

#macro(showPage $paginator $builder)

    #if ($paginator.getPages() > 1)

        #set ($_page_min_tmp = $paginator.getPage() - 3)
        #set ($_page_max_tmp = $paginator.getPage() + 3)

        #set ($_page_min = $mathTool.max(1, $_page_min_tmp))
        #set ($_page_max = $mathTool.min($paginator.getPages(), $_page_max_tmp))

    <!--page start-->
    <div class="btn-group">
        #if ($paginator.getPage() > $_page_min)
            <a class="mrbtn" href="$builder&page=$paginator.getPreviousPage()" target="_self">
                上一页
            </a>
            #if ($_page_min > 1)
                <a class="mrbtn" href="$builder&page=1" target="_self">1...
                </a>
            #end

            #foreach ( $_page_i in [$_page_min..$paginator.getPreviousPage()] )
                <a class="mrbtn" href="$builder&page=$_page_i" target="_self">
                    ${_page_i}
                </a>
            #end
        #end

        <a type="button" class="mrbtn curpage">
            $paginator.getPage()
        </a>

        #if ($paginator.getPage() < $_page_max)
            #if($paginator.getNextPage() <= $_page_max)
                #foreach ($_page_i in [$paginator.getNextPage()..$_page_max])
                    <a class="mrbtn" href="$builder&page=$_page_i" target="_self">
                        ${_page_i}
                    </a>
                #end
            #end

            #if ($_page_max < $paginator.getPages())
                <a class="mrbtn" href="$builder&page=$paginator.getPages()" target="_self">
                    ...$paginator.getPages()
                </a>
            #end

            #if($paginator.getNextPage() <= $_page_max)
                <a class="mrbtn" href="$builder&page=$paginator.getNextPage()" target="_self">
                    下一页
                </a>
            #end
        #end
    </div>
    <style>
        .mrbtn{
            margin-left: 5px;
            display: inline-block;
            padding: 6px 12px;
            margin-bottom: 0;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.42857143;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            -ms-touch-action: manipulation;
            touch-action: manipulation;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-image: none;
            border: 1px solid transparent;
           /* border-radius: 6px !important;*/
            background-color: #35aa47;
            border-color: #8c8c9e;
            color: #fff;

            border-radius: 3px;

        }
        .curpage{
           /* border-radius: 6px  !important;*/
            background-color: #ffffff;
            color: black;
        }
    </style>
    #end
#end